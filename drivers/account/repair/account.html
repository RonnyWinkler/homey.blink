<script type="application/javascript">

    Homey.setTitle(Homey.__("pair.account.title"));

    Homey.emit("getSettings").then(function (settings) {
        if (settings){
            document.getElementById('email').value = settings.email; 
            document.getElementById('pw').value = settings.pw; 
        }
    });

    function settingsChanged(){
        let value = {
            "email": document.getElementById('email').value,
            "pw": document.getElementById('pw').value
        };
        Homey.emit("settingsChanged", value).then(function (result) {
        });
    }

    // function check(){
    //     let value = {
    //         "email": document.getElementById('email').value,
    //         "pw": document.getElementById('pw').value
    //     };
    //     Homey.emit("check", value).then(function (result) {
    //         Homey.alert(result);
    //     });
    // }
</script>

<fieldset class="homey-form-fieldset">
    <legend class="homey-form-legend"><span data-i18n="pair.account.account_settings"></span></legend>
    <div class="homey-form-group">
        <label for="email" class="homey-form-label"><span data-i18n="pair.account.email"></span></label>
        <input id="email" class="homey-form-input" type="text" value="" oninput="settingsChanged()"/>
    </div>
    <div class="homey-form-group">
            <label for="pw" class="homey-form-label"><span data-i18n="pair.account.pw"></span></label>
        <input id="pw" class="homey-form-input" type="password" value="" oninput="settingsChanged()"/>
    </div>
</fieldset>
    <!-- <fieldset>
        <p><button id="check" class="left" onclick="check()"><span data-i18n="pair.db.check"></span></button></p>
    </fieldset> -->
